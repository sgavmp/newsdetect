<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head th:include="base :: head">
</head>
<body>

	<div
		class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
		<header
			class="demo-header mdl-layout__header mdl-color--white mdl-color--grey-100 mdl-color-text--grey-600"
			th:replace="base :: menu-superior"> </header>
		<div
			class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-800 mdl-color-text--primary"
			th:include="base :: menu-izquierdo"></div>
		<main
			class="mdl-layout__content mdl-color--withe mdl-typography--text-center">
		<div class="doc-page mdl-grid">
			<div class="mdl-cell mdl-cell--2-col"></div>
			<div
				class="mdl-cell mdl-cell--8-col mdl-color--white mdl-shadow--2dp">



				<div th:if="${message}">
					<h2 th:text="${message}" />
				</div>



				<div>
					<form method="POST" enctype="multipart/form-data"
						action="feedsNE/up">

						<!--<form method="POST"  enctype="multipart/form-data"  action="/cargaxls/create">-->


						<div
							class="mdl-textfield mdl-js-textfield mdl-textfield--file is-upgraded righted"
							data-upgraded=",MaterialTextfield">

							<input type="hidden" th:name="${_csrf.parameterName}"
								th:value="${_csrf.token}" /> <input
								class="mdl-textfield__input" placeholder="File" type="text"
								id="uploadFile" readonly=""/>
							<div
								class="mdl-button mdl-button--primary mdl-button--icon mdl-button--file">
								<i class="material-icons">attach_file</i><input type="file"
									name="file" id="uploadBtn" accept=".jar"/>
							</div>
						</div>
						<br /> <input class="mdl-button" type="submit"
							th:value="${nefeedsubmit}" />

					</form>


				</div>

				<br /> <br />

				<div  th:if="${messageError}">
					<h5  class="red" th:text="${messageError}" />
				</div>


				<div th:if="${message2}">
					<h5 th:text="${message2}" />


					<table class="mdl-data-table mdl-js-data-table snippet display">
						<thead>
							<tr>
								<th class="mdl-data-table__cell--non-numeric"><span th:text="${nefeedname}">Nombre</span></th>
								<th class="mdl-data-table__cell--non-numeric"><span th:text="${nefeedcreationdate}">Fecha
									creación</span></th>
								<th class="mdl-data-table__cell--non-numeric"><span th:text="${nefeedappli}">Aplicar</span> </th>
								<th class="mdl-data-table__cell--non-numeric"><span th:text="${nefeeddelete}">Borrar</span></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="file : ${files}">
								<td class="mdl-data-table__cell--non-numeric"
									th:text="${file.rel}"></td>
								<td class="mdl-data-table__cell--non-numeric"
									th:text="${#dates.format(file.fec, 'dd/M/yyyy H:m')}"></td>
								<td class="mdl-data-table__cell--non-numeric"><a
									th:href="@{feedsNE/file/{title}(title=${file.href})} "><i
										class="mdl-color-text--black material-icons"
										role="presentation">input</i></a></td>
								<td class="mdl-data-table__cell--non-numeric"><a
									class="confirm" href="#"
									th:href="@{feedsNE/filedel/{title}(title=${file.href})} "><i
										class="mdl-color-text--black material-icons confirm"
										role="presentation">delete_forever</i></a></td>
							</tr>
						</tbody>
					</table>
					<br />
					<br />
					<br />


					
				</div>
			</div>
		</div>
		<script>
				document.getElementById('uploadBtn').onchange = function() {
					document.getElementById('uploadFile').value = this.files[0].name;
				};
				//# sourceURL=pen.js
			</script> </main>
		<footer th:include="base :: footer"> </footer>
		<script th:inline="javascript">
			/* <![CDATA[ */
			$(".confirm")
					.click(
							function(e) {
								var notification = document
										.querySelector('.mdl-js-snackbar');
								var url = e
										&& (('string' === typeof e && e) || (e.currentTarget && e.currentTarget.attributes['href'].value));
								notification.MaterialSnackbar
										.showSnackbar({
											message : /*[[${nefeedsuredelete}]]*/'¿Estas seguro de borrar el archivo seleccionado?',
											cssColor : 'mdl-color--primary',
											timeout : 300000,
											actionHandler : function(event) {
												window.location = url;
												notification.MaterialSnackbar
														.cleanup_();
											},
											actionText : /*[[${yes}]]*/ 'Si',
											actionHandler2 : function(event) {
												notification.MaterialSnackbar
														.cleanup_();
											},
											actionText2 : /*[[${no}]]*/ 'No'
										});
								return false;
							});
			/* ]]> */
		</script>
	</div>


</body>
</html>