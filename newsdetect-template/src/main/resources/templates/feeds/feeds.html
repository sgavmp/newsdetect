<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head th:include="base :: head">
</head>
<body>
	<div
		class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
		<header
			class="demo-header mdl-layout__header mdl-color--white mdl-color--grey-100 mdl-color-text--grey-600"
			th:replace="base :: menu-superior"> </header>
		<div
			class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-800 mdl-color-text--primary"
			th:include="base :: menu-izquierdo"></div>
		<main
			class="mdl-layout__content mdl-color--withe mdl-typography--text-center">
		<div sec:authorize="isAuthenticated()" class="doc-page">
				<a class="mdl-button mdl-js-button mdl-color--primary"
					th:href="@{/feeds/create}" href="#"><span th:text="${feedaddnewsite}">Añadir nuevo sitio</span></a>
				<a class="mdl-button mdl-js-button mdl-color--primary"
					th:href="@{/feeds/masive}" href="#"><span th:text="${feedaddnewsiteauto}">Añadir sitios automaticamente</span></a>
				<a class="mdl-button mdl-js-button mdl-color--primary"
					th:href="${url}" th:with="url=@{/feedsNE}" href=""><span th:text="${feedaddnewsitenoestand}">Añadir sitios no estandar</span></a>
		</div>
		<div th:if="${#lists.isEmpty(feeds)}" class="watermark">
			<h1><span th:text="${feednosites}">No hay sitios</span></h1>
		</div>
		<div th:unless="${#lists.isEmpty(feeds)}" class="doc-page">
			<div class="snippet-padding"></div>
			<table
				class="mdl-data-table mdl-js-data-table snippet">
				<thead>
					<tr>
						<th class="mdl-data-table__cell--non-numeric"><span th:text="${feedname}">Nombre</span></th>
						<th class="mdl-data-table__cell--non-numeric"><span th:text="${feedtype}">Tipo</span></th>
						<th><span th:text="${feedactive}">Activado</span></th>
						<th><span th:text="${feedestandar}">Estandar</span></th>
						<th><span th:text="${feedprocess}">Proceso</span></th>
						<th><span th:text="${feedt}">@T</span></th>
						<th><span th:text="${feedl}">@L</span></th>
						<th class="mdl-data-table__cell--non-numeric"><span th:text="${feedcreationdate}">Fecha creación</span></th>
						<th class="mdl-data-table__cell--non-numeric"><span th:text="${feededitiondate}">Fecha edición</span></th>
						<th sec:authorize="isAuthenticated()"><span th:text="${feededit}">Editar</span></th>
						<th sec:authorize="isAuthenticated()"><span th:text="${feeddelete}">Borrar</span></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="feed : ${feeds}">
						<td class="mdl-data-table__cell--non-numeric">
						<a th:if="${feed.NoEstandar}"
							href="#" th:href="@{/feedsNE/get/{id}/show(id=${feed.id})}"
							th:text="${feed.name}">Pescados Manolo</a>
						<a th:unless="${feed.NoEstandar}"
							href="#" th:href="@{/feeds/get/{id}(id=${feed.id})}"
							th:text="${feed.name}">Pescados Manolo</a></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:text="${feed.type}">Pescados manolo</td>
						<td class="mdl-data-table__cell--non-numeric"
							th:if="${feed.actived}"><i
								class="mdl-color-text--green material-icons" role="presentation">done</i></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:unless="${feed.actived}"><i
								class="mdl-color-text--red material-icons" role="presentation">remove</i></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:unless="${feed.NoEstandar}"><i
								class="mdl-color-text--green material-icons" role="presentation">done</i></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:if="${feed.NoEstandar}"><i
								class="mdl-color-text--red material-icons" role="presentation">remove</i></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:text="${!feed.isAuto} ? (${feed.isRSS} ? 'RSS' : 'CSS' ) : 'BATCH'">Pescados manolo</td>
						<td class="mdl-data-table__cell--non-numeric"
							th:text="${feed.feedType}"></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:text="${feed.feedPlace}"></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:text="${#dates.format(feed.createDate, 'dd/M/yyyy')}"></td>
						<td class="mdl-data-table__cell--non-numeric"
							th:text="${#dates.format(feed.updateDate, 'dd/M/yyyy H:m')}"></td>
						
						<td sec:authorize="isAuthenticated()">
						<a th:if="${feed.NoEstandar}" href="#"
							th:href="@{/feedsNE/get/{id}/edit(id=${feed.id})}"><i
								class="mdl-color-text--black material-icons" role="presentation">mode-edit</i></a>
						<a th:unless="${feed.NoEstandar}" href="#"
							th:href="@{/feeds/get/{id}/edit(id=${feed.id})}"><i
								class="mdl-color-text--black material-icons" role="presentation">mode-edit</i></a></td>
						<td><a class="confirm-del" href="#"
							th:href="@{/feeds/get/{id}/remove(id=${feed.id})}"><i
								class="mdl-color-text--black material-icons confirm"
								role="presentation">delete</i></a></td>
					</tr>
				</tbody>
			</table>
			<div class="snippet-padding"></div>
		</div>
		</main>
		<footer th:include="base :: footer"> </footer>
		<script th:inline="javascript">
			/* <![CDATA[ */
			$(".confirm-del")
					.click(
							function(e) {
								var notification = document
										.querySelector('.mdl-js-snackbar');
								var url = e
										&& (('string' === typeof e && e) || (e.currentTarget && e.currentTarget.attributes['href'].value));
								notification.MaterialSnackbar
										.showSnackbar({
											message : /* [[${feedsuredelete}]]*/ '¿Estas seguro de borrar el website seleccionado?',
											cssColor : 'mdl-color--green',
											timeout : 300000,
											actionHandler : function(event) {
												window.location = url;
												notification.MaterialSnackbar
														.cleanup_();
											},
											actionText : 'Si',
											actionHandler2 : function(event) {
												notification.MaterialSnackbar
														.cleanup_();
											},
											actionText2 : 'No'
										});
								return false;
							});
			/* ]]> */
		</script>
	</div>
</body>
</html>